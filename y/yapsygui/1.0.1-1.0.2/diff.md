# Comparing `tmp/yapsygui-1.0.1-py3-none-any.whl.zip` & `tmp/yapsygui-1.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,42 @@
-Zip file size: 13645 bytes, number of entries: 23
--rw-rw-r--  2.0 unx      281 b- defN 23-May-31 19:56 yapsy_gui/__init__.py
--rw-rw-r--  2.0 unx     2354 b- defN 23-May-31 19:44 yapsy_gui/__main__.py
--rw-rw-r--  2.0 unx     1657 b- defN 23-May-31 19:46 yapsy_gui/dialog.py
+Zip file size: 21382 bytes, number of entries: 40
+-rw-rw-r--  2.0 unx      281 b- defN 23-Jun-01 02:24 yapsy_gui/__init__.py
+-rw-rw-r--  2.0 unx     2237 b- defN 23-Jun-01 01:28 yapsy_gui/__main__.py
+-rw-rw-r--  2.0 unx     1684 b- defN 23-Jun-01 02:10 yapsy_gui/dialog.py
 -rw-rw-r--  2.0 unx      371 b- defN 23-May-29 18:45 yapsy_gui/items.py
--rw-rw-r--  2.0 unx     1480 b- defN 23-May-31 19:46 yapsy_gui/manager.py
+-rw-rw-r--  2.0 unx     1648 b- defN 23-Jun-01 00:05 yapsy_gui/manager.py
 -rw-rw-r--  2.0 unx      209 b- defN 23-May-23 00:25 yapsy_gui/template.html
--rw-rw-r--  2.0 unx      648 b- defN 23-May-29 23:34 yapsy_gui/template.py
--rwxr-xr-x  2.0 unx      157 b- defN 23-May-30 15:30 yapsy_gui/plugins/plugin1.plugin
--rwxr-xr-x  2.0 unx      276 b- defN 23-May-30 15:30 yapsy_gui/plugins/plugin1.py
+-rw-rw-r--  2.0 unx      586 b- defN 23-Jun-01 02:16 yapsy_gui/template.py
+-rwxrwxr-x  2.0 unx      176 b- defN 23-Jun-01 02:21 yapsy_gui/plugins/plugin1.plugin
+-rwxrwxr-x  2.0 unx      423 b- defN 23-Jun-01 02:21 yapsy_gui/plugins/plugin1.py
 -rw-rw-r--  2.0 unx      271 b- defN 23-May-30 00:22 yapsy_gui/ui/__init__.py
 -rw-rw-r--  2.0 unx      390 b- defN 23-May-29 22:32 yapsy_gui/ui/alert.py
--rw-rw-r--  2.0 unx     1064 b- defN 23-May-30 03:14 yapsy_gui/ui/dialog_plugin_base.py
--rw-rw-r--  2.0 unx      311 b- defN 23-May-29 22:27 yapsy_gui/ui/open_file.py
+-rw-rw-r--  2.0 unx     1105 b- defN 23-Jun-01 02:06 yapsy_gui/ui/dialog_plugin_base.py
+-rw-rw-r--  2.0 unx      358 b- defN 23-Jun-01 02:12 yapsy_gui/ui/open_file.py
 -rw-rw-r--  2.0 unx      648 b- defN 23-May-29 22:38 yapsy_gui/ui/panel_description.py
 -rw-rw-r--  2.0 unx      528 b- defN 23-May-28 01:33 yapsy_gui/ui/panel_plugins.py
--rw-rw-r--  2.0 unx      774 b- defN 23-May-28 03:45 yapsy_gui/ui/row_buttons.py
--rw-rw-r--  2.0 unx     1631 b- defN 23-May-30 03:13 yapsy_gui/ui/twin_panel.py
--rw-rw-r--  2.0 unx    11357 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/LICENSE
--rw-rw-r--  2.0 unx      298 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/WHEEL
--rw-rw-r--  2.0 unx       53 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx       10 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1866 b- defN 23-May-31 20:01 yapsygui-1.0.1.dist-info/RECORD
-23 files, 26726 bytes uncompressed, 10621 bytes compressed:  60.3%
+-rw-rw-r--  2.0 unx      781 b- defN 23-Jun-01 02:19 yapsy_gui/ui/row_buttons.py
+-rw-rw-r--  2.0 unx     1826 b- defN 23-Jun-01 01:14 yapsy_gui/ui/twin_panel.py
+-rw-rw-r--  2.0 unx      281 b- defN 23-Jun-01 02:24 yapsygui/__init__.py
+-rw-rw-r--  2.0 unx     2236 b- defN 23-Jun-01 02:46 yapsygui/__main__.py
+-rw-rw-r--  2.0 unx     1682 b- defN 23-Jun-01 02:46 yapsygui/dialog.py
+-rw-rw-r--  2.0 unx      371 b- defN 23-May-29 18:45 yapsygui/items.py
+-rw-rw-r--  2.0 unx     1648 b- defN 23-Jun-01 00:05 yapsygui/manager.py
+-rw-rw-r--  2.0 unx      209 b- defN 23-May-23 00:25 yapsygui/template.html
+-rw-rw-r--  2.0 unx      586 b- defN 23-Jun-01 02:16 yapsygui/template.py
+-rwxrwxr-x  2.0 unx      176 b- defN 23-Jun-01 02:21 yapsygui/plugins/plugin1.plugin
+-rwxrwxr-x  2.0 unx      272 b- defN 23-Jun-01 02:47 yapsygui/plugins/plugin1.py
+-rw-rw-r--  2.0 unx      271 b- defN 23-May-30 00:22 yapsygui/ui/__init__.py
+-rw-rw-r--  2.0 unx      390 b- defN 23-May-29 22:32 yapsygui/ui/alert.py
+-rw-rw-r--  2.0 unx     1104 b- defN 23-Jun-01 02:46 yapsygui/ui/dialog_plugin_base.py
+-rw-rw-r--  2.0 unx      358 b- defN 23-Jun-01 02:12 yapsygui/ui/open_file.py
+-rw-rw-r--  2.0 unx      648 b- defN 23-May-29 22:38 yapsygui/ui/panel_description.py
+-rw-rw-r--  2.0 unx      528 b- defN 23-May-28 01:33 yapsygui/ui/panel_plugins.py
+-rw-rw-r--  2.0 unx      781 b- defN 23-Jun-01 02:19 yapsygui/ui/row_buttons.py
+-rw-rw-r--  2.0 unx     1824 b- defN 23-Jun-01 02:46 yapsygui/ui/twin_panel.py
+-rw-rw-r--  2.0 unx    11357 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/LICENSE
+-rw-rw-r--  2.0 unx      298 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       52 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        9 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3227 b- defN 23-Jun-01 02:54 yapsygui-1.0.2.dist-info/RECORD
+40 files, 41922 bytes uncompressed, 16256 bytes compressed:  61.2%
```

## zipnote {}

```diff
@@ -45,26 +45,77 @@
 
 Filename: yapsy_gui/ui/row_buttons.py
 Comment: 
 
 Filename: yapsy_gui/ui/twin_panel.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/LICENSE
+Filename: yapsygui/__init__.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/METADATA
+Filename: yapsygui/__main__.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/WHEEL
+Filename: yapsygui/dialog.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/entry_points.txt
+Filename: yapsygui/items.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/top_level.txt
+Filename: yapsygui/manager.py
 Comment: 
 
-Filename: yapsygui-1.0.1.dist-info/RECORD
+Filename: yapsygui/template.html
+Comment: 
+
+Filename: yapsygui/template.py
+Comment: 
+
+Filename: yapsygui/plugins/plugin1.plugin
+Comment: 
+
+Filename: yapsygui/plugins/plugin1.py
+Comment: 
+
+Filename: yapsygui/ui/__init__.py
+Comment: 
+
+Filename: yapsygui/ui/alert.py
+Comment: 
+
+Filename: yapsygui/ui/dialog_plugin_base.py
+Comment: 
+
+Filename: yapsygui/ui/open_file.py
+Comment: 
+
+Filename: yapsygui/ui/panel_description.py
+Comment: 
+
+Filename: yapsygui/ui/panel_plugins.py
+Comment: 
+
+Filename: yapsygui/ui/row_buttons.py
+Comment: 
+
+Filename: yapsygui/ui/twin_panel.py
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/LICENSE
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/METADATA
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/WHEEL
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/entry_points.txt
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/top_level.txt
+Comment: 
+
+Filename: yapsygui-1.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## yapsy_gui/__init__.py

```diff
@@ -1,9 +1,9 @@
 __appname__ = "Yapsy GUI"
-__version__ = "1.0.1"
+__version__ = "1.0.2"
 
 from .items import PluginItem
 
 from .ui import TwinPanel
 from .ui import RowButtons
 from .ui import OpenFilePlugin
```

## yapsy_gui/__main__.py

```diff
@@ -5,26 +5,27 @@
 #
 #   GUI implemented by: Leonel Hernández
 #   Source: https://github.com/leonelhs/yapsy-gui
 #
 ##############################################################################
 import os
 import sys
-import os.path as osp
+
 from qtpy import QtWidgets
 from qtpy.QtWidgets import QMainWindow, QWidget, \
     QVBoxLayout, QLabel, QPushButton, QTextBrowser
+
 from yapsy_gui import DialogPlugins
 
 
-# Fixme: Reload list plugins on uninstall plugin
 # Default demo plugins location path
 location = os.path.dirname(os.path.abspath(__file__))
 INSTALL_DIR = os.path.join(location, "plugins")
 
+
 class MainWindow(QMainWindow):
 
     def __init__(self, parent=None):
         super().__init__(parent)
         self.central_widget = QWidget(self)
         self.main_layout = QVBoxLayout(self.central_widget)
         self.label = QLabel(self)
@@ -33,28 +34,27 @@
         self.button_plugins = QPushButton(self)
         self.button_plugins.setText("Show Plugin Manager")
         self.button_plugins.clicked.connect(self.showPlugins)
         self.main_layout.addWidget(self.button_plugins)
         self.setCentralWidget(self.central_widget)
         # Yapsy plugin manager API is embedded in GUI
         self.manager = DialogPlugins(self, INSTALL_DIR)
-        self.manager.pluginsUpdate.connect(self.fetchPlugins)
-        self.fetchPlugins()
+        self.manager.connect(self.fetchPlugins)
+        self.manager.loadPlugins()
 
         self.output = QTextBrowser(self.central_widget)
         self.main_layout.addWidget(self.output)
 
-    def fetchPlugins(self):
-        for plugin in self.manager.plugins:
+    def fetchPlugins(self, plugins):
+        for plugin in plugins:
             plugin.plugin_object.context = self
             button = QPushButton(self)
             button.setText(plugin.plugin_object.name)
             button.clicked.connect(plugin.plugin_object.task)
             self.main_layout.addWidget(button)
-        self.manager.displayPlugins()
 
     # Plugin callback: make the process at plugin and it putback here the result
     def plugin_action(self, text):
         self.output.append(text)
 
     def showPlugins(self):
         self.manager.show()
```

## yapsy_gui/dialog.py

```diff
@@ -3,49 +3,54 @@
 #   Source Yapsy:
 #   https://github.com/tibonihoo/yapsy
 #
 #   GUI implemented by: Leonel Hernández
 #   Source: https://github.com/leonelhs/yapsy-gui
 #
 ##############################################################################
-from yapsy_gui import Manager, PluginItem, PluginInfoTemplate
+from yapsy_gui import Manager, PluginInfoTemplate
 from yapsy_gui.ui import DialogPluginsBase, Alert, OpenFilePlugin
 
 INVALID_STRUCTURE = "Plugin structure is not valid."
+REMOVE_ERROR = "Unable to uninstall plugin."
 
 
 class DialogPlugins(DialogPluginsBase):
 
     def __init__(self, parent, install_dir):
         super().__init__(parent)
-        self.install_dir = install_dir
+        self.callback = None
         self.manager = Manager(install_dir)
         self.template = PluginInfoTemplate()
-        self.displayPlugins()
 
     @property
     def plugins(self):
         return self.manager.plugins
 
+    def connect(self, callback):
+        self.callback = callback
+
     def installPlugin(self):
         plugin_file = OpenFilePlugin(self)
         if plugin_file:
             if self.manager.install(plugin_file):
-                self.pluginsUpdate.emit()
+                self.loadPlugins()
             else:
                 Alert(self, INVALID_STRUCTURE)
 
     def uninstallPlugin(self):
-        self.manager.removePlugin(self.panel.plugin)
-        # Fixme: Reload plugins list instead of reload Manager after delete plugin
-        self.manager = Manager(self.install_dir)
-        self.pluginsUpdate.emit()
-
-    def displayPlugins(self):
-        self.panel.clear()
-        for candidate in self.plugins:
-            item = PluginItem(candidate)
-            self.panel.appendRow(item)
+        if self.manager.removePlugin(self.plugin):
+            self.loadPlugins()
+        else:
+            Alert(self, REMOVE_ERROR)
+
+    def loadPlugins(self):
+        try:
+            self.callback(self.plugins)
+        except TypeError:
+            print("No plugins loader callback was defined.")
+        finally:
+            self.panel.appendPlugins(self.plugins)
 
     def onSelectPlugin(self, data):
         data = self.template.substitute(data)
         self.panel.description.setText(data)
```

## yapsy_gui/manager.py

```diff
@@ -1,8 +1,9 @@
 import os
+import shutil
 
 from yapsy.IPlugin import IPlugin
 from yapsy.PluginManager import PluginManager
 from yapsy.AutoInstallPluginManager import AutoInstallPluginManager
 
 INFO_EXTENSION = "plugin"
 PLUGINS_CATEGORY = "Default"
@@ -42,8 +43,13 @@
         return self._installer.install(plugin_file)
 
     def removePlugin(self, plugin):
         self.removePluginFromCategory(plugin, PLUGINS_CATEGORY)
         prefix = os.path.basename(plugin.path)
         for item in os.listdir(self.install_dir):
             if item.startswith(prefix):
-                os.remove(os.path.join(self.install_dir, item))
+                item = os.path.join(self.install_dir, item)
+                if os.path.isdir(item):
+                    shutil.rmtree(item)
+                else:
+                    os.remove(item)
+        return True
```

## yapsy_gui/template.py

```diff
@@ -1,30 +1,21 @@
+import os
 from string import Template
 
 from yapsy.PluginInfo import PluginInfo
 
-body = """
-<h4>$name</h4>
-<div>
-    <ul>
-        <li>Version: $version</li>
-        <li>Author: $author</li>
-        <li>Website: <a href="$website">$website</a></li>
-    </ul>
-</div>
-<div>
-    <p>$description</p>
-</div>
-"""
+dir_path = os.path.dirname(os.path.abspath(__file__))
+template = os.path.join(dir_path, "template.html")
 
 
 class PluginInfoTemplate(Template):
 
     def __init__(self):
-        super().__init__(body)
+        with open(template) as body:
+            super().__init__(body.read())
 
     def substitute(self, data: PluginInfo):
         return super().substitute(
             name=data.name,
             version=data.version,
             author=data.author,
             website=data.website,
```

## yapsy_gui/plugins/plugin1.plugin

```diff
@@ -1,10 +1,10 @@
 [Core]
-Name = Plugin 1
+Name = Plugin Test
 Module = plugin1
 
 [Documentation]
-Author = John Smith
+Author = Leonel Hernandez
 Version = 0.1
-Website = http://lotsofplugins.com
-Description = My first plugin
+Website = https://github.com/leonelhs/
+Description = This is a demo plugin
```

## yapsy_gui/plugins/plugin1.py

```diff
@@ -1,15 +1,20 @@
 from yapsy.IPlugin import IPlugin
 
 
-class PluginTwo(IPlugin):
+class PluginOne(IPlugin):
 
     def __init__(self):
         super().__init__()
         self.context = None
-        self.name = "Plugin test-01"
-
-    def task(self):
-        self.context.plugin_action("This is a text from plugin test-01")
+        self.shortcut = None
+        self.icon = None
+        self.name = "This is plugin 1"
+        self.hint = "This is an awesome plugin"
+        self.reply = None
 
+    def setContext(self, context):
+        self.context = context
 
+    def task(self):
+        print(self.name)
```

## yapsy_gui/ui/dialog_plugin_base.py

```diff
@@ -5,15 +5,14 @@
 
 from yapsy_gui.ui import TwinPanel, RowButtons
 
 TITLE = "Plugins Manager"
 
 
 class DialogPluginsBase(QDialog):
-    pluginsUpdate = Signal()
 
     def __init__(self, parent):
         super().__init__(parent)
         self.tr = parent.tr
         self.setModal(True)
 
         self.main_layout = QVBoxLayout(self)
@@ -25,14 +24,18 @@
         self.controls.uninstall.connect(self.uninstallPlugin)
         self.panel.connect(self.onSelectPlugin)
 
         QMetaObject.connectSlotsByName(self)
 
         self.setWindowTitle(self.tr(TITLE))
 
+    @property
+    def plugin(self):
+        return self.panel.plugin
+
     @abstractmethod
     def installPlugin(self):
         pass
 
     @abstractmethod
     def uninstallPlugin(self):
         pass
```

## yapsy_gui/ui/open_file.py

```diff
@@ -1,12 +1,13 @@
-from qtpy.QtWidgets import QFileDialog
+import os
 
-init_path = ""
-file_filter = "*.plugin"
+from qtpy.QtWidgets import QFileDialog
 
 
 class OpenFilePlugin(QFileDialog):
 
     def __new__(cls, parent, flags=None):
         title = parent.tr("Install Plugin")
+        init_path = os.path.expanduser('~')
+        file_filter = "*.plugin"
         file_name, _ = cls.getOpenFileName(parent, title, init_path, file_filter)
         return file_name
```

## yapsy_gui/ui/row_buttons.py

```diff
@@ -8,16 +8,16 @@
 
     def __init__(self, parent):
         super().__init__(parent)
         self.button_install = QPushButton(parent)
         self.addWidget(self.button_install)
         self.button_uninstall = QPushButton(parent)
         self.addWidget(self.button_uninstall)
-        self.button_install.setText(QCoreApplication.translate("Dialog", u"Install plugin", None))
-        self.button_uninstall.setText(QCoreApplication.translate("Dialog", u"Remove plugin", None))
+        self.button_install.setText(QCoreApplication.translate("Dialog", u"Install new plugin", None))
+        self.button_uninstall.setText(QCoreApplication.translate("Dialog", u"Uninstall plugin", None))
 
     @property
     def install(self):
         return self.button_install.clicked
 
     @property
     def uninstall(self):
```

## yapsy_gui/ui/twin_panel.py

```diff
@@ -1,14 +1,15 @@
 # -*- coding: utf-8 -*-
 
 from qtpy.QtGui import QStandardItemModel
 from qtpy.QtWidgets import QSplitter, QWidget
 from qtpy.QtCore import Qt
 from yapsy.PluginInfo import PluginInfo
 
+from yapsy_gui import PluginItem
 from yapsy_gui.ui import PanelPlugins, PanelDescription
 
 
 class TwinPanel(QSplitter):
 
     def __init__(self, parent):
         super().__init__(parent)
@@ -49,14 +50,20 @@
 
     def setModel(self, model):
         self.list.setModel(model)
 
     def appendRow(self, item):
         self.model.appendRow(item)
 
+    def appendPlugins(self, plugins):
+        self.clear()
+        for plugin in plugins:
+            item = PluginItem(plugin)
+            self.appendRow(item)
+
     def clear(self):
         self.model.clear()
         self.description.clear()
 
     def _item(self, index) -> PluginInfo:
         row = index.row()
         return self.model.item(row).info()
```

## Comparing `yapsygui-1.0.1.dist-info/LICENSE` & `yapsygui-1.0.2.dist-info/LICENSE`

 * *Files identical despite different names*

